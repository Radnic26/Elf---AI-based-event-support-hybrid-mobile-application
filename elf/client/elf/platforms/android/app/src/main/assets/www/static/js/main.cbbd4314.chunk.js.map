{"version":3,"sources":["utils/checkLocalStorage.js","actions/actions.js","actions/types.js","dbStores/MessageStore.js","dbStores/ResponseStore.js","components/Chat/MessageForm/MessageForm.js","components/Chat/Typing/Typing.js","components/Chat/Message/Message.js","components/Chat/Chat/Chat.js","components/Account/Account.js","components/Settings/SettingsItem.js","dbStores/ConceptStore.js","components/AI/CategoryForm/CategoryForm.js","components/AI/SubcategoryForm/SubcategoryForm.js","components/AI/ExampleForm/ExampleForm.js","components/AI/ConceptsForm/ConceptsForm.js","components/Home/Home.js","components/App/App.js","dbStores/UserStore.js","components/Auth/Login.js","components/Auth/Register.js","serviceWorker.js","reducers/reducer.js","components/LinearProgress/LinearProgress.js","index.js","statics/constants.js"],"names":["jwt","require","STATIC","module","exports","token","localStorage","getItem","verify","tokenSecret","id","addMessage","message","isTyping","type","payload","chatBubbleId","content","context","MessageStore","this","emitter","EventEmitter","userId","fetch","ngrokServer","method","headers","body","JSON","stringify","emit","console","warn","response","json","data","ResponseStore","reply","question","Object","keys","length","values","solution","index","Math","floor","random","err","MessageForm","props","state","messageStore","responseStore","handleChange","evt","setState","target","name","value","sendMessage","currentUser","getResponse","addListener","removeCurrentListener","classes","className","Grid","container","grid","style","minHeight","item","xs","TextField","size","variant","placeholder","onChange","fullWidth","align","Button","buttonGrid","color","onClick","React","Component","connect","withStyles","theme","root","margin","spacing","padding","display","bottom","button","minWidth","width","marginLeft","Typing","Messages","messages","bubbleStyles","text","fontSize","chatbubble","borderRadius","user","Account","SettingsItem","ConceptStore","categories","subcategories","abortController","AbortController","category","error","signal","subcategory","categoryId","example","subcategoryId","CategoryForm","selectedCategory","conceptStore","add","addCategory","window","location","reload","SubcategoryForm","selectedCategoryId","handleCategorySelectChange","handleSubcategoryInputChange","newSubcategory","addSubcategory","getAllCategories","abort","categoriesList","map","i","key","ExampleForm","selectedSubcategoryId","handleSubcategorySelectChange","handleInputChange","newExample","log","addExample","getAllSubcategories","subcategoriesList","ConceptsForm","useStyles","makeStyles","drawer","breakpoints","up","flexShrink","mixins","toolbar","appBar","menuButton","marginRight","drawerPaper","flexGrow","useTheme","useState","mobileOpen","setMobileOpen","chatItem","setChatItem","accountItem","setAccountItem","settingsItem","setSettingsItem","handleDrawerToggle","Divider","List","ListItem","ListItemIcon","alt","src","photoURL","ListItemText","primary","undefined","document","CssBaseline","AppBar","position","Toolbar","IconButton","aria-label","edge","Typography","noWrap","Hidden","smUp","implementation","Drawer","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","App","UserStore","users","loggedUser","responseStatus","result","hasOwnProperty","errors","status","setItem","tokenValue","Login","email","password","isValid","isLoading","loginToken","userStore","login","Container","component","maxWidth","Avatar","avatar","form","noValidate","label","disabled","submit","CircularProgress","circularProgress","Link","href","marginTop","flexDirection","alignItems","backgroundColor","palette","secondary","main","blue","top","Register","fullName","username","confirmPassword","isPasswordValid","md5","addUser","history","push","sm","justify","Boolean","hostname","match","initialUserState","initialMessageState","rootReducer","combineReducers","action","concat","Message","marginBlockEnd","LinearBuffer","completed","setCompleted","buffer","setBuffer","progress","useRef","useEffect","current","diff","diff2","timer","setInterval","clearInterval","LinearProgress","valueBuffer","store","createStore","composeWithDevTools","Root","checkForUserToken","getLoggedUser","firstMessage","setUser","clearUser","path","exact","RootWithAuth","withRouter","renderReactDom","ReactDOM","render","getElementById","cordova","addEventListener","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"6GAAA,IAAMA,EAAMC,EAAQ,KACdC,EAASD,EAAQ,IAEvBE,EAAOC,QAAU,WACb,IAAMC,EAAQC,aAAaC,QAAQ,aACnC,OAAa,OAAVF,GACQL,EAAIQ,OAAOH,EAAOH,EAAOO,aAAaC,K,msBCWxCC,EAAa,SAACC,EAASC,GAChC,MAAO,CACHC,KChBmB,cDiBnBC,QAAS,CACLC,aAAcJ,EAAQI,aACtBJ,QAASA,EAAQK,QACjBC,QAASN,EAAQM,QACjBL,SAAUA,K,iCEvBhBX,EAASD,EAAQ,IAqCRkB,E,WAlCX,aAAe,oBACXC,KAAKR,QAAU,GACfQ,KAAKC,QAAU,IAAIC,e,gGAGNC,EAAQX,G,0FAGXY,MAAM,GAAD,OAAItB,EAAOuB,YAAX,8BAA4CF,GAAU,CAC7DG,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,aAAcrB,aAAaC,QAAQ,cAEvCqB,KAAMC,KAAKC,UAAUlB,K,OAEzBQ,KAAKC,QAAQU,KAAK,uB,gDAElBC,QAAQC,KAAR,MACAb,KAAKC,QAAQU,KAAK,qB,gSAMGP,MAAM,GAAD,OAAItB,EAAOuB,YAAX,mB,cAAtBS,E,gBACaA,EAASC,O,OAAtBC,E,OACJhB,KAAKR,QAAUwB,E,kDAEfJ,QAAQC,KAAR,M,uHChCN/B,EAASD,EAAQ,IAqCRoC,E,WAlCX,aAAe,oBACXjB,KAAKC,QAAU,IAAIC,eACnBF,KAAKkB,MAAQ,G,iGAGCC,G,2FACOf,MAAM,GAAD,OAAItB,EAAOuB,YAAX,kBAAwC,CAC9DC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,aAAcrB,aAAaC,QAAQ,cAEvCqB,KAAMC,KAAKC,UAAUS,K,cANrBL,E,gBAQaA,EAASC,O,OAAtBC,E,OAC6B,KAA7BI,OAAOC,KAAKL,GAAMM,OAClBtB,KAAKkB,MAAQF,EAGTI,OAAOG,OAAOP,EAAKQ,UAAU,GAAGF,OAAS,GACrCG,EAAQC,KAAKC,MAAMD,KAAKE,SAAWZ,EAAKQ,SAASF,QACrDtB,KAAKkB,MAAQF,EAAKQ,SAASC,IAG3BzB,KAAKkB,MAAQF,EAAKQ,SAG1BxB,KAAKC,QAAQU,KAAK,wB,mIACdkB,GACJjB,QAAQC,KAAKgB,GACb7B,KAAKC,QAAQU,KAAK,0B,KCJpBmB,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXb,SAAU,GACVL,SAAU,IAGZ,EAAKmB,aAAe,IAAIlC,EACxB,EAAKmC,cAAgB,IAAIjB,EAEzB,EAAKkB,aAAe,SAACC,GACnB,EAAKC,SAAL,eACGD,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,SAIlC,EAAKC,YAAc,WACjB,GAA4B,KAAxB,EAAKT,MAAMb,SAAiB,CAC9B,IAAI3B,EAAU,CACZI,aAAc,EACdC,QAAS,EAAKmC,MAAMb,SACpBrB,QAAS,QAGX,EAAKuC,SAAS,CACZlB,SAAU,KAGZ,EAAKY,MAAMxC,WAAWC,GAAS,GAE/B,EAAKyC,aAAa1C,WAAW,EAAKwC,MAAMW,YAAYpD,GAAIE,GAExD,EAAK0C,cAAcS,YAAYnD,GAE/B,EAAK0C,cAAcjC,QAAQ2C,YAAY,wBAAwB,WAC7D,IAAI9B,EAAW,CACblB,aAAc,EACdC,QAAS,EAAKqC,cAAchB,MAC5BpB,QAASN,EAAQM,SAEnB,EAAKiC,MAAMxC,WAAWuB,GAAU,GAChC,EAAKoB,cAAcjC,QAAQ4C,6BAzChB,E,qDAgDT,IACAC,EAAY9C,KAAK+B,MAAjBe,QACR,OACE,yBAAKC,UAAU,QACb,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACF,UAAWD,EAAQI,KAAMC,MAAO,CAAEC,UAAW,SAC3D,kBAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GACb,kBAACC,EAAA,EAAD,CACEhB,KAAK,WACLjD,GAAG,uBACHkE,KAAK,QACLC,QAAQ,WACRC,YAAY,uBACZlB,MAAOxC,KAAKgC,MAAMb,SAClBwC,SAAU3D,KAAKmC,aACfyB,WAAS,KAGb,kBAACZ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGO,MAAM,SACtB,kBAACC,EAAA,EAAD,CACEf,UAAWD,EAAQiB,WACnBC,MAAM,UACNR,KAAK,QACLC,QAAQ,WACRQ,QAASjE,KAAKyC,aACd,kBAAC,IAAD,c,GAzEYyB,IAAMC,WAkFjBC,cAAQ,KAAM,CAAE7E,cAAhB6E,CAA8BC,aAtG3B,SAAAC,GAAK,MAAK,CAC1BC,KAAM,CACJ,QAAS,CACPC,OAAQF,EAAMG,QAAQ,KAG1BvB,KAAM,CACJwB,QAAS,OACTC,QAAS,OACTC,OAAQ,GAEVC,OAAQ,CACNC,SAAU,IAEZf,WAAY,CACVgB,MAAO,OACPC,WAAY,WAsF6BX,CAAsBvC,I,QCrGpDmD,G,cARA,kBACX,yBAAKlC,UAAU,UACX,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eACf,yBAAKA,UAAU,kBCqBRmC,EAvBE,SAACnD,GAAW,IACnBoD,EAAuBpD,EAAvBoD,SAAU1F,EAAasC,EAAbtC,SAClB,OACE,yBAAKsD,UAAU,YACb,kBAAC,WAAD,CACEoC,SAAWA,EACXC,aACE,CACEC,KAAM,CACJC,SAAU,IAEZC,WAAY,CACVC,aAAc,GACdd,QAAS,OAKhBjF,EAAW,kBAAC,EAAD,MAAa,KCQhB2E,eANS,SAAApC,GAAK,MAAK,CAC9BmD,SAAUnD,EAAMxC,QAAQ2F,SACxB1F,SAAUuC,EAAMxC,QAAQC,SACxBiD,YAAaV,EAAMyD,KAAK/C,eAGb0B,EAxBF,SAACrC,GAAW,IACbW,EAAoCX,EAApCW,YAAajD,EAAuBsC,EAAvBtC,SAAU0F,EAAapD,EAAboD,SAC/B,OACI,yBAAKpC,UAAU,WACX,kBAACC,EAAA,EAAD,CAAMD,UAAU,eACZ,kBAAC,EAAD,CACIA,UAAU,UACVtD,SAAUA,EACV0F,SAAUA,KAGlB,kBAAC,EAAD,CACIzC,YAAaA,QCDdgD,E,kDAbX,WAAY3D,GAAQ,uCACVA,G,qDAIN,OACI,4C,GARUmC,IAAMC,WCcbwB,E,kDAbX,WAAY5D,GAAQ,uCACVA,G,qDAIN,OACI,6C,GARemC,IAAMC,WCD3BrF,I,cAASD,EAAQ,KAiFR+G,G,WA9EX,aAAe,oBACX5F,KAAK6F,WAAa,GAClB7F,KAAK8F,cAAgB,GACrB9F,KAAKC,QAAU,IAAIC,eACnBF,KAAK+F,gBAAkB,IAAIC,gB,iGAGbC,G,0FAEJ7F,MAAM,GAAD,OAAItB,GAAOuB,YAAX,sBAA4C,CACnDC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUuF,K,OAEzBjG,KAAKC,QAAQU,KAAK,2B,gDAElBC,QAAQsF,MAAR,MACAlG,KAAKC,QAAQU,KAAK,sB,oSAMGP,MAAM,GAAD,OAAItB,GAAOuB,YAAX,wBAA8C,CAAE8F,OAAQnG,KAAK+F,gBAAgBI,S,cAAnGrF,E,gBACaA,EAASC,O,OAAtBC,E,OACJhB,KAAK6F,WAAa7E,EAClBhB,KAAKC,QAAQU,KAAK,8B,kDAElBC,QAAQC,KAAR,MACAb,KAAKC,QAAQU,KAAK,yB,8LAILyF,EAAaC,G,0FAEpBjG,MAAM,GAAD,OAAItB,GAAOuB,YAAX,8BAA4CgG,EAA5C,gBAAsE,CAC7E/F,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU0F,K,sDAGzBxF,QAAQC,KAAR,MACAb,KAAKC,QAAQU,KAAK,yB,wSAMGP,MAAM,GAAD,OAAItB,GAAOuB,YAAX,2BAAiD,CAAE8F,OAAQnG,KAAK+F,gBAAgBI,S,cAAtGrF,E,gBACaA,EAASC,O,OAAtBC,E,OACJhB,KAAK8F,cAAgB9E,EACrBhB,KAAKC,QAAQU,KAAK,iC,kDAElBC,QAAQC,KAAR,MACAb,KAAKC,QAAQU,KAAK,+B,0LAIT2F,EAASD,EAAYE,G,0FAExBnG,MAAM,GAAD,OAAItB,GAAOuB,YAAX,8BAA4CgG,EAA5C,wBAAsEE,EAAtE,YAA+F,CACtGjG,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU4F,K,sDAGzB1F,QAAQC,KAAR,MACAb,KAAKC,QAAQU,KAAK,qB,0HCxBf6F,G,kDAhDX,WAAYzE,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTiE,SAAU,GACVJ,WAAY,GACZY,iBAAkB,IAGtB,EAAKC,aAAe,IAAId,GAExB,EAAKzD,aAAe,SAACC,GACjB,EAAKC,SAAL,eACKD,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,SAItC,EAAKmE,IAAM,WACP,EAAKD,aAAaE,YAAY,CAC1BX,SAAU,EAAKjE,MAAMiE,WAGzB,EAAKS,aAAazG,QAAQ2C,YAAY,2BAA2B,WAC7DiE,OAAOC,SAASC,QAAO,OAtBhB,E,qDA4Bf,OACI,6BACI,yBAAKhE,UAAU,qBAAf,kBACA,yBAAKA,UAAU,gBACX,2BAAOA,UAAU,iBAAjB,YACA,2BACIrD,KAAK,OACL6C,KAAK,WACLmB,YAAY,WACZC,SAAU3D,KAAKmC,eAEnB,4BAAQY,UAAU,oBAAoBkB,QAASjE,KAAK2G,KAApD,a,GAxCOzC,IAAMC,WC2ElB6C,I,yDA1EX,WAAYjF,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACT6D,WAAY,GACZoB,mBAAoB,GACpBb,YAAa,IAGjB,EAAKM,aAAe,IAAId,GAExB,EAAKsB,2BAA6B,SAAC9E,GAC/B,EAAKC,SAAS,CAAE4E,mBAAoB7E,EAAIE,OAAOE,SAGnD,EAAK2E,6BAA+B,SAAC/E,GACjC,EAAKC,SAAL,eAAiBD,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,SAGlD,EAAKmE,IAAM,WACP,IAAIS,EAAiB,CACjBhB,YAAa,EAAKpE,MAAMoE,aAG5B,EAAKM,aAAaW,eAAeD,EAAgB,EAAKpF,MAAMiF,oBAC5DJ,OAAOC,SAASC,QAAO,IAxBZ,E,gEA4BE,IAAD,OAChB/G,KAAK0G,aAAaY,mBAClBtH,KAAK0G,aAAazG,QAAQ2C,YAAY,8BAA8B,WAChE,EAAKP,SAAS,CACVwD,WAAY,EAAKa,aAAab,kB,6CAMtC7F,KAAK0G,aAAaX,gBAAgBwB,U,+BAG5B,IACE1B,EAAe7F,KAAKgC,MAApB6D,WAEJ2B,EAAiB3B,EAAWvE,OAAS,GAClCuE,EAAW4B,KAAI,SAACpE,EAAMqE,GACrB,OACI,4BAAQC,IAAKD,EAAGlF,MAAOa,EAAK/D,IAAK+D,EAAK4C,YAE3CjG,MAEP,OACI,6BACI,yBAAK+C,UAAU,wBAAf,qBACA,yBAAKA,UAAU,mBACX,oDACA,4BAAQA,UAAU,iBAAiBY,SAAU3D,KAAKkH,4BAC9C,4BAAQ1E,MAAM,SAAd,qBACCgF,IAIT,yBAAKzE,UAAU,mBACX,2BAAOA,UAAU,oBAAjB,eACA,2BAAOrD,KAAK,OAAO6C,KAAK,cAAcmB,YAAY,cAAcC,SAAU3D,KAAKmH,+BAC/E,4BAAQpE,UAAU,uBAAuBkB,QAASjE,KAAK2G,KAAvD,a,GAlEUzC,IAAMC,YC8GrByD,I,yDA5GX,WAAY7F,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACT6D,WAAY,GACZoB,mBAAoB,GACpBnB,cAAe,GACf+B,sBAAuB,GACvBvB,QAAS,IAGb,EAAKrG,QAAU,IAAIC,eAEnB,EAAKwG,aAAe,IAAId,GAExB,EAAKsB,2BAA6B,SAAC9E,GAC/B,EAAKC,SAAS,CAAC4E,mBAAoB7E,EAAIE,OAAOE,SAGlD,EAAKsF,8BAAgC,SAAC1F,GAClC,EAAKC,SAAS,CAACwF,sBAAuBzF,EAAIE,OAAOE,SAGrD,EAAKuF,kBAAoB,SAAC3F,GACtB,EAAKC,SAAL,eAAgBD,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,SAGjD,EAAKmE,IAAM,WACP,IAAIqB,EAAa,CACb1B,QAAS,EAAKtE,MAAMsE,SAExB1F,QAAQqH,IAAID,GAEZ,EAAKtB,aAAawB,WAAWF,EAAY,EAAKhG,MAAMiF,mBAAoB,EAAKjF,MAAM6F,uBACnFhB,OAAOC,SAASC,QAAO,IAjCZ,E,gEAqCE,IAAD,OAChB/G,KAAK0G,aAAaY,mBAClBtH,KAAK0G,aAAayB,sBAElBnI,KAAK0G,aAAazG,QAAQ2C,YAAY,8BAA8B,WAChE,EAAKP,SAAS,CACVwD,WAAY,EAAKa,aAAab,gBAItC7F,KAAKC,QAAQU,KAAK,gCAClBX,KAAK0G,aAAazG,QAAQ2C,YAAY,iCAAiC,WACnE,EAAKP,SAAS,CACVyD,cAAe,EAAKY,aAAaZ,qB,6CAMvC9F,KAAK0G,aAAaX,gBAAgBwB,U,+BAG9B,IAAD,EACiCvH,KAAKgC,MAAnC6D,EADH,EACGA,WAAYC,EADf,EACeA,cAEhB0B,EAAiB3B,EAAWvE,OAAS,GAClCuE,EAAW4B,KAAI,SAACpE,EAAMqE,GACzB,OACI,4BAAQC,IAAKD,EAAGlF,MAAOa,EAAK/D,IAAK+D,EAAK4C,YAE3CjG,MAGCoI,EAAoBtC,EAAcxE,OAAS,GACxCwE,EAAc2B,KAAI,SAACpE,EAAMqE,GAC5B,OACI,4BAAQC,IAAKD,EAAGlF,MAAOa,EAAK/D,IAAK+D,EAAK+C,eAE3CpG,MAEH,OACI,6BACI,yBAAK+C,UAAU,qBAAf,gBACA,yBAAKA,UAAU,mBACX,oDACA,4BAAQA,UAAU,oBAAoBY,SAAW3D,KAAKkH,4BACtD,4BAAQ1E,MAAM,gBAAd,qBACMgF,IAIV,yBAAKzE,UAAU,mBACX,uDACA,4BAAQA,UAAU,oBAAoBY,SAAW3D,KAAK8H,+BAClD,4BAAQtF,MAAM,gBAAd,wBACE4F,IAIV,yBAAKrF,UAAU,eACX,2BAAOA,UAAU,gBAAjB,WACA,2BAAOrD,KAAK,OAAO6C,KAAK,UAAUmB,YAAY,UAAUC,SAAW3D,KAAK+H,oBACxE,4BAAQhF,UAAU,mBAAmBkB,QAAUjE,KAAK2G,KAApD,a,GApGMzC,IAAMC,YCgBjBkE,G,uKAZP,OACI,yBAAKtF,UAAU,gBACX,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,W,GAPWmB,IAAMC,WCmB3BmE,GAAYC,aAAW,SAACjE,GAAD,MAAY,CACvCC,KAAM,CACJI,QAAS,QAEX6D,OAAO,eACJlE,EAAMmE,YAAYC,GAAG,MADlB,aAEF3D,MARc,IASd4D,WAAY,GACTrE,EAAMsE,OAAOC,UAGpBC,OAAO,eACJxE,EAAMmE,YAAYC,GAAG,MAAQ,CAC5B3D,MAAM,eAAD,OAfS,IAeT,OACLC,WAhBc,MAmBlB+D,WAAW,aACTC,YAAa1E,EAAMG,QAAQ,IAC1BH,EAAMmE,YAAYC,GAAG,MAAQ,CAC5B/D,QAAS,SAGbkE,QAASvE,EAAMsE,OAAOC,QACtBI,YAAa,CACXlE,MA3BgB,KA6BlBlF,QAAS,CACPqJ,SAAU,OAyJd,IAIe9E,gBAJS,SAAApC,GAAK,MAAK,CAChCU,YAAaV,EAAMyD,KAAK/C,eAGX0B,EAzJf,SAAcrC,GAAQ,IACZ8E,EAAW9E,EAAX8E,OACAnE,EAAgBX,EAAhBW,YACFI,EAAUwF,KACVhE,EAAQ6E,cAJK,EAKiBjF,IAAMkF,UAAS,GALhC,mBAKZC,EALY,KAKAC,EALA,OAMapF,IAAMkF,UAAS,GAN5B,mBAMZG,EANY,KAMFC,EANE,OAOmBtF,IAAMkF,UAAS,GAPlC,mBAOZK,EAPY,KAOCC,EAPD,OAQqBxF,IAAMkF,UAAS,GARpC,mBAQZO,EARY,KAQEC,EARF,KAUbC,EAAqB,WACzBP,GAAeD,IAwCXb,EACJ,yBAAKzF,UAAU,WACb,8BACA,kBAAC+G,EAAA,EAAD,MAEA,kBAACC,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CAAUrC,IAAI,uBACZ,kBAACsC,EAAA,EAAD,KAAc,yBAAKC,IAAI,iBAAiBC,IAAKzH,EAAY0H,SAAUjH,MAAO,CAAE4B,MAAO,WACnF,kBAACsF,EAAA,EAAD,CAAcC,QAAS5H,EAAYH,QAErC,kBAACuH,EAAA,EAAD,MACA,kBAACE,EAAA,EAAD,CAAUnF,QAAM,EAAC8C,IAAI,OAAO1D,QAjDV,WACtBuF,GAAY,GACZI,GAAgB,GAChBJ,GAAY,GACNH,GACJC,GAAeD,KA6CX,kBAACY,EAAA,EAAD,KAAc,yBAAKC,IAAI,iBAAiBC,IAAI,oDAAoDhH,MAAO,CAAE4B,MAAO,WAChH,kBAACsF,EAAA,EAAD,CAAcC,QAAQ,UAExB,kBAACN,EAAA,EAAD,CAAUnF,QAAM,EAAC8C,IAAI,UAAU1D,QA5CV,WACzBuF,GAAY,GACZI,GAAgB,GAChBF,GAAe,GACTL,GACJC,GAAeD,KAwCX,kBAACY,EAAA,EAAD,KAAc,yBAAKC,IAAI,oBAAoBC,IAAI,4DAA4DhH,MAAO,CAAE4B,MAAO,WAC3H,kBAACsF,EAAA,EAAD,CAAcC,QAAQ,gBAExB,kBAACN,EAAA,EAAD,CAAUnF,QAAM,EAAC8C,IAAI,WAAW1D,QAvCV,WAC1ByF,GAAe,GACfF,GAAY,GACZI,GAAgB,GACVP,GACJC,GAAeD,KAmCX,kBAACY,EAAA,EAAD,KAAc,yBAAKC,IAAI,qBAAqBC,IAAI,qDAAqDhH,MAAO,CAAE4B,MAAO,WACrH,kBAACsF,EAAA,EAAD,CAAcC,QAAQ,kBAG1B,kBAACR,EAAA,EAAD,MACA,kBAACE,EAAA,EAAD,CAAUnF,QAAM,EAAC8C,IAAI,KAAK1D,QApCR,WACpByF,GAAe,GACfF,GAAY,GACZI,GAAgB,GACVP,GACJC,GAAeD,KAgCb,kBAACY,EAAA,EAAD,KAAc,yBAAKC,IAAI,qBAAqBC,IAAI,wDAAwDhH,MAAO,CAAE4B,MAAO,WACxH,kBAACsF,EAAA,EAAD,CAAcC,QAAQ,SAKtBrH,OAAuBsH,IAAX1D,EAAuB,kBAAMA,IAAS2D,SAAShK,WAAO+J,EAExE,OACE,yBAAKxH,UAAWD,EAAQyB,MACtB,kBAACkG,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAQC,SAAS,QAAQ5H,UAAWD,EAAQgG,QAC1C,kBAAC8B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACE7G,MAAM,UACN8G,aAAW,cACXC,KAAK,QACL9G,QAAS4F,EACT9G,UAAWD,EAAQiG,YAEnB,kBAAC,IAAD,OAEF,kBAACiC,EAAA,EAAD,CAAYvH,QAAQ,KAAKwH,QAAM,GAA/B,cAKJ,yBAAKlI,UAAWD,EAAQ0F,OAAQsC,aAAW,mBACzC,kBAACI,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACEpI,UAAWA,EACXQ,QAAQ,YACR6H,OAA4B,QAApBhH,EAAMiH,UAAsB,QAAU,OAC9CC,KAAMnC,EACNoC,QAAS5B,EACT/G,QAAS,CACP4I,MAAO5I,EAAQmG,aAEjB0C,WAAY,CACVC,aAAa,IAGdpD,IAGL,kBAAC0C,EAAA,EAAD,CAAQW,QAAM,EAACT,eAAe,OAC5B,kBAACC,EAAA,EAAD,CACEvI,QAAS,CACP4I,MAAO5I,EAAQmG,aAEjBxF,QAAQ,YACR+H,MAAI,GAEHhD,KAIP,0BAAMzF,UAAWD,EAAQjD,SACvB,yBAAKkD,UAAWD,EAAQ+F,UAEpBU,EAAsB,kBAAC,EAAD,MACpBE,EAA4B,kBAAC,EAAD,MAC1BE,EAA8B,kBAAC,EAAD,MAC9B,kBAAC,GAAD,WC9LDmC,GAJH,kBACN,kBAAC,GAAD,OCJAhN,GAASD,EAAQ,IAiFRkN,G,WA9EX,aAAe,oBACX/L,KAAKgM,MAAQ,GACbhM,KAAKiM,WAAa,GAClBjM,KAAKC,QAAU,IAAIC,eACnBF,KAAKkM,eAAiB,GACtBlM,KAAKkG,MAAQ,GACblG,KAAKf,MAAQ,G,6FAGHwG,G,kGAEerF,MAAM,GAAD,OAAItB,GAAOuB,YAAX,cAAoC,CAC1DC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU+E,K,cALrB3E,E,gBAOeA,EAASC,O,QAAxBoL,E,QACMC,eAAe,WACrBpM,KAAKkG,MAAQiG,EAAOE,OAAO,GAAG7M,QAC9BQ,KAAKC,QAAQU,KAAK,oBAGlBX,KAAKC,QAAQU,KAAK,uBAClBC,QAAQqH,IAAI,6B,mEAGG,KAAIlH,O,QAAvBf,KAAKkG,M,OACLlG,KAAKC,QAAQU,KAAK,kB,sLAId8E,G,kGAEiBrF,MAAM,GAAD,OAAItB,GAAOuB,YAAX,eAAqC,CAC3DC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU+E,K,UAEF,OAPnB3E,E,QAOQwL,O,iCACWxL,EAASC,O,QAAxBoL,E,QACOC,eAAe,UAOtBpM,KAAKkG,MAAQiG,EAAOjG,MACpBlG,KAAKC,QAAQU,KAAK,iBAPlBzB,aAAaqN,QAAQ,YAAaJ,EAAOK,YACzCxM,KAAKf,MAAQkN,EAAOK,WACpB5L,QAAQqH,IAAI,qBACZjI,KAAKC,QAAQU,KAAK,qB,wBAQtBX,KAAKC,QAAQU,KAAK,e,0DAItBC,QAAQqH,IAAR,MACAjI,KAAKC,QAAQU,KAAK,e,8LAINR,G,kGAESC,MAAM,GAAD,OAAItB,GAAOuB,YAAX,sBAAoCF,I,cAA1DW,E,gBACaA,EAASC,O,OAAtB0E,E,OACJzF,KAAKiM,WAAaxG,EAClBzF,KAAKC,QAAQU,KAAb,2B,kDAEAC,QAAQC,KAAR,MACAb,KAAKC,QAAQU,KAAK,yB,6LCjCxB8L,G,kDACF,WAAY1K,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACT0K,MAAO,GACPC,SAAU,GACVC,SAAS,EACTC,WAAW,EACX3G,MAAO,GACP4G,WAAY,IAGhB,EAAK3K,aAAe,SAACC,GACjB,EAAKC,SAAL,eACKD,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,SAItC,EAAKmE,IAAM,WACP,EAAKtE,SAAS,CACVwK,WAAW,IAEf,IAAIpH,EAAO,CACPiH,MAAO,EAAK1K,MAAM0K,MAClBC,SAAU,EAAK3K,MAAM2K,UAEzB,EAAKI,UAAY,IAAIhB,GAErB,EAAKgB,UAAUC,MAAMvH,GACrB,EAAKsH,UAAU9M,QAAQ2C,YAAY,oBAAoB,WACnD,EAAKP,SAAS,CACTwK,WAAW,EACXC,WAAY,EAAKC,UAAU9N,QAEhC4H,OAAOC,SAASC,QAAO,MAG3B,EAAKgG,UAAU9M,QAAQ2C,YAAY,eAAe,WAC9C,EAAKP,SAAS,CACVuK,SAAS,EACT1G,MAAO,EAAK6G,UAAU7G,MACtB2G,WAAW,QAxCR,E,qDA+CT,IACE/J,EAAY9C,KAAK+B,MAAjBe,QADH,EAEiC9C,KAAKgC,MAAnC6K,EAFH,EAEGA,UAAWD,EAFd,EAEcA,QAAS1G,EAFvB,EAEuBA,MAC5B,OACI,kBAAC+G,GAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACjC,kBAAC1C,EAAA,EAAD,MACA,yBAAK1H,UAAWD,EAAQ4I,OACpB,kBAAC0B,GAAA,EAAD,CAAQrK,UAAWD,EAAQuK,QACvB,kBAAC,KAAD,OAEJ,kBAACrC,EAAA,EAAD,CAAYkC,UAAU,KAAKzJ,QAAQ,MAAnC,iBAGA,0BAAMV,UAAWD,EAAQwK,KAAMC,YAAU,GACrC,kBAACvK,EAAA,EAAD,CAAMC,WAAS,EAACwB,QAAS,GACrB,kBAACzB,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,IACX,kBAACC,EAAA,EAAD,CACIE,QAAQ,WACRG,WAAS,EACTtE,GAAG,QACHkE,KAAK,QACLgK,MAAM,QACNjL,KAAK,QACL7C,KAAK,QACLiE,SAAU3D,KAAKmC,gBAGvB,kBAACa,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,IACX,kBAACC,EAAA,EAAD,CACIE,QAAQ,WACRG,WAAS,EACTrB,KAAK,WACLiL,MAAM,cACNhK,KAAK,QACL9D,KAAK,WACLJ,GAAG,WACHqE,SAAU3D,KAAKmC,gBAGrByK,EAAU,8BACR,yBAAKzJ,MAAS,CAAC6B,WAAY,OAAQhB,MAAO,QACpCkC,IAId,kBAACpC,EAAA,EAAD,CACIF,WAAS,EACTH,QAAQ,YACRO,MAAM,UACNyJ,SAAUZ,EACV9J,UAAWD,EAAQ4K,OACnBzJ,QAASjE,KAAK2G,KANlB,gBASKkG,GAAa,kBAACc,GAAA,EAAD,CAAkBnK,KAAM,GAAIT,UAAWD,EAAQ8K,oBAEzE,kBAAC5K,EAAA,EAAD,CAAMC,WAAS,GACnB,kBAACD,EAAA,EAAD,CAAMK,MAAI,EAACC,IAAE,GACX,kBAACuK,GAAA,EAAD,CAAMC,KAAK,IAAIrK,QAAQ,SAAvB,qBAIF,kBAACT,EAAA,EAAD,CAAMK,MAAI,GACR,kBAACwK,GAAA,EAAD,CAAMC,KAAK,aAAarK,QAAQ,SAC7B,iD,GAhHGU,aA2HLE,gBArJG,SAAAC,GAAK,MAAK,CACxBoH,MAAO,CACHqC,UAAWzJ,EAAMG,QAAQ,GACzBE,QAAS,OACTqJ,cAAe,SACfC,WAAY,UAEhBZ,OAAQ,CACJ7I,OAAQF,EAAMG,QAAQ,GACtByJ,gBAAiB5J,EAAM6J,QAAQC,UAAUC,MAE7Cf,KAAM,CACFvI,MAAO,OACPgJ,UAAWzJ,EAAMG,QAAQ,IAE7BiJ,OAAQ,CACJlJ,OAAQF,EAAMG,QAAQ,EAAG,EAAG,IAEhCmJ,iBAAkB,CACd5J,MAAOsK,KAAK,KACZ3D,SAAU,WACV4D,IAAK,MACLR,WAAY,OA+HL1J,CAAsBoI,I,qBC1H/B+B,G,kDACF,WAAYzM,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTyM,SAAU,GACVC,SAAU,GACV/B,SAAU,GACVgC,gBAAiB,GACjBjC,MAAO,GACPxG,MAAO,GACP0G,SAAS,EACTC,WAAW,GAGf,EAAKE,UAAY,IAAIhB,GAErB,EAAK5J,aAAe,SAACC,GACjB,EAAKC,SAAL,eACKD,EAAIE,OAAOC,KAAOH,EAAIE,OAAOE,SAItC,EAAKoM,gBAAkB,YAAkC,IAAhCjC,EAA+B,EAA/BA,SAAUgC,EAAqB,EAArBA,gBAC/B,OAAGhC,EAASrL,OAAS,GACjB,EAAKe,SAAS,CACV6D,MAAO,yDAEJ,GAEHyG,IAAagC,IACjB,EAAKtM,SAAS,CACV6D,MAAO,4CAEJ,IAOf,EAAKS,IAAM,WACP,EAAKtE,SAAS,CACVwK,WAAW,IAEf,IAAIpH,EAAO,CACPlD,KAAM,EAAKP,MAAMyM,SACjBC,SAAU,EAAK1M,MAAM0M,SACrB/B,SAAU,EAAK3K,MAAM2K,SACrBD,MAAO,EAAK1K,MAAM0K,MAClBtC,SAAS,8BAAD,OAAgCyE,KAAI,EAAK7M,MAAM0K,OAA/C,iBAEZ9L,QAAQqH,IAAIxC,GAET,EAAKmJ,gBAAgB,EAAK5M,QACzB,EAAK+K,UAAU+B,QAAQrJ,GACvB,EAAKsH,UAAU9M,QAAQ2C,YAAY,uBAAuB,WACtD,EAAKP,SAAS,CACVwK,WAAW,IAEf,EAAK9K,MAAMgN,QAAQC,KAAK,aAG5B,EAAKjC,UAAU9M,QAAQ2C,YAAY,kBAAkB,WACjD,EAAKP,SAAS,CACVuK,SAAS,EACT1G,MAAO,EAAK6G,UAAU7G,MACtB2G,WAAW,QAKnB,EAAKxK,SAAS,CACVuK,SAAS,EACTC,WAAW,KAxER,E,qDA+ET,IACE/J,EAAY9C,KAAK+B,MAAjBe,QADH,EAEiC9C,KAAKgC,MAAnC4K,EAFH,EAEGA,QAAS1G,EAFZ,EAEYA,MAAO2G,EAFnB,EAEmBA,UACxB,OACI,kBAACI,GAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACjC,kBAAC1C,EAAA,EAAD,MACA,yBAAK1H,UAAWD,EAAQ4I,OACpB,kBAAC0B,GAAA,EAAD,CAAQrK,UAAWD,EAAQuK,QACvB,kBAAC,KAAD,OAEJ,kBAACrC,EAAA,EAAD,CAAYkC,UAAU,KAAKzJ,QAAQ,MAAnC,mBAGA,0BAAMV,UAAWD,EAAQwK,KAAMC,YAAU,GACrC,kBAACvK,EAAA,EAAD,CAAMC,WAAS,EAACwB,QAAS,GACrB,kBAACzB,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAI2L,GAAI,GACnB,kBAAC1L,EAAA,EAAD,CACIhB,KAAK,WACLkB,QAAQ,WACRD,KAAK,QACLI,WAAS,EACTtE,GAAG,WACHkO,MAAM,eACN7J,SAAU3D,KAAKmC,gBAGvB,kBAACa,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAI2L,GAAI,GACnB,kBAAC1L,EAAA,EAAD,CACIE,QAAQ,WACRG,WAAS,EACTJ,KAAK,QACLlE,GAAG,WACHkO,MAAM,kBACN7J,SAAU3D,KAAKmC,aACfI,KAAK,cAGb,kBAACS,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,IACX,kBAACC,EAAA,EAAD,CACIE,QAAQ,WACRG,WAAS,EACTJ,KAAK,QACLlE,GAAG,QACHkO,MAAM,QACN7J,SAAU3D,KAAKmC,aACfI,KAAK,WAGb,kBAACS,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,IACX,kBAACC,EAAA,EAAD,CACIE,QAAQ,WACRG,WAAS,EACTJ,KAAK,QACLjB,KAAK,WACLiL,MAAM,cACN9N,KAAK,WACLiE,SAAU3D,KAAKmC,aACf7C,GAAG,cAGX,kBAAC0D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,IACX,kBAACC,EAAA,EAAD,CACIE,QAAQ,WACRG,WAAS,EACTJ,KAAK,QACLjB,KAAK,kBACLiL,MAAM,uBACN9N,KAAK,WACLiE,SAAU3D,KAAKmC,aACf7C,GAAG,qBAGTsN,EAAU,8BACR,yBAAKzJ,MAAS,CAAC6B,WAAY,OAAQhB,MAAO,QACpCkC,IAKV,kBAACpC,EAAA,EAAD,CACIF,WAAS,EACTH,QAAQ,YACRO,MAAM,UACNyJ,SAAUZ,EACV9J,UAAWD,EAAQ4K,OACnBzJ,QAASjE,KAAK2G,KANlB,kBASKkG,GAAa,kBAACc,GAAA,EAAD,CAAkBnK,KAAM,GAAIT,UAAWD,EAAQ8K,oBAGrE,kBAAC5K,EAAA,EAAD,CAAMC,WAAS,EAACiM,QAAQ,YACpB,kBAAClM,EAAA,EAAD,CAAMK,MAAI,GACN,kBAACwK,GAAA,EAAD,CAAMC,KAAK,UAAUrK,QAAQ,SAA7B,+C,GA7KTU,aAyLRE,gBAnNG,SAAAC,GAAK,MAAK,CACxBoH,MAAO,CACHqC,UAAWzJ,EAAMG,QAAQ,GACzBE,QAAS,OACTqJ,cAAe,SACfC,WAAY,UAEhBZ,OAAQ,CACJ7I,OAAQF,EAAMG,QAAQ,GACtByJ,gBAAiB5J,EAAM6J,QAAQC,UAAUC,MAE7Cf,KAAM,CACFvI,MAAO,OACPgJ,UAAWzJ,EAAMG,QAAQ,IAE7BiJ,OAAQ,CACJlJ,OAAQF,EAAMG,QAAQ,EAAG,EAAG,IAEhCmJ,iBAAkB,CACd5J,MAAOsK,KAAK,KACZ3D,SAAU,WACV4D,IAAK,MACLR,WAAY,OA6LL1J,CAAsBmK,IC1NjBW,QACW,cAA7BtI,OAAOC,SAASsI,UAEe,UAA7BvI,OAAOC,SAASsI,UAEhBvI,OAAOC,SAASsI,SAASC,MACvB,2D,+DCdAC,GAAmB,CACrB5M,YAAa,KACbmK,WAAW,GAGT0C,GAAsB,CACxBpK,SAAU,GACVrF,QAAS,KACTL,UAAU,GAwCC+P,GALKC,2BAAgB,CAChChK,KAjCgB,WAAuC,IAAtCzD,EAAqC,uDAA7BsN,GAAkBI,EAAW,uCACtD,OAAOA,EAAOhQ,MACV,IpBjBgB,WoBkBZ,MAAO,CACHgD,YAAagN,EAAO/P,QAAQ+C,YAC5BmK,WAAW,GAGnB,IpBtBkB,aoBuBd,OAAO,2BACA7K,GADP,IAEI6K,WAAW,IAEnB,QACI,OAAO7K,IAoBfxC,QAhBmB,WAA0C,IAAzCwC,EAAwC,uDAAhCuN,GAAqBG,EAAW,uCAC5D,OAAOA,EAAOhQ,MACV,IpBhCmB,coBiCf,OAAO,2BACAsC,GADP,IAEImD,SAAUnD,EAAMmD,SAASwK,OAAO,IAAIC,UAAQ,CAAEtQ,GAAIoQ,EAAO/P,QAAQC,aAAcJ,QAASkQ,EAAO/P,QAAQH,WACvGM,QAAS4P,EAAO/P,QAAQG,QACxBL,SAAUiQ,EAAO/P,QAAQF,WAEjC,QACI,OAAOuC,M,UCvCbsG,GAAYC,aAAW,SAACjE,GAAD,MAAY,CACrCC,KAAM,CACFQ,MAAO,OACP,YAAa,CACTgJ,UAAWzJ,EAAMG,QAAQ,IAE7BsJ,UAAW,MACX/I,WAAY,MACZ6K,eAAgB,WAIT,SAASC,KACpB,IAAMhN,EAAUwF,KADmB,EAEDpE,IAAMkF,SAAS,GAFd,mBAE5B2G,EAF4B,KAEjBC,EAFiB,OAGP9L,IAAMkF,SAAS,IAHR,mBAG5B6G,EAH4B,KAGpBC,EAHoB,KAK7BC,EAAWjM,IAAMkM,QAAO,eA0B9B,OAzBAlM,IAAMmM,WAAU,WACZF,EAASG,QAAU,WACf,GAAIP,EAAY,IACZC,EAAa,GACbE,EAAU,QACP,CACH,IAAMK,EAAuB,GAAhB7O,KAAKE,SACZ4O,EAAwB,GAAhB9O,KAAKE,SACnBoO,EAAaD,EAAYQ,GACzBL,EAAUH,EAAYQ,EAAOC,QAKzCtM,IAAMmM,WAAU,WAIZ,IAAMI,EAAQC,aAHd,WACIP,EAASG,YAEmB,KAEhC,OAAO,WACHK,cAAcF,MAEnB,IAGC,yBAAK1N,UAAWD,EAAQyB,MACpB,kBAACqM,GAAA,EAAD,CAAgBnN,QAAQ,SAASjB,MAAOuN,EAAWc,YAAaZ,IAChE,kBAACW,GAAA,EAAD,CAAgBnN,QAAQ,SAASjB,MAAOuN,EAAWc,YAAaZ,EAAQjM,MAAM,eCjC1F,IAAM8M,GAAQC,uBAAYvB,GAAawB,kCAEjCC,G,kLACiB,IAAD,OACZlE,EAAY,IAAIhB,GAChB5L,EAAS+Q,OACX/Q,GACF4M,EAAUoE,cAAchR,GACxB4M,EAAU9M,QAAQ2C,YAAY,2BAA2B,WACvDhC,QAAQqH,IAAI8E,EAAUd,WAAWyC,UACjC,IAAI0C,EAAe,CACjBxR,aAAc,EACdC,QAAS,SAAWkN,EAAUd,WAAWyC,SAAW,sCACpD5O,QAAS,SAEX,EAAKiC,MAAMxC,WAAW6R,GAAc,GACpC,EAAKrP,MAAMsP,QAAQtE,EAAUd,YAC7B,EAAKlK,MAAMgN,QAAQC,KAAK,UAI1BhP,KAAK+B,MAAMgN,QAAQC,KAAK,UACxBhP,KAAK+B,MAAMuP,e,+BAMb,OAAOtR,KAAK+B,MAAM8K,UAChB,kBAAC,GAAD,MAGE,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAO0E,KAAK,IAAIC,OAAK,EAACtE,UAAWpB,KACjC,kBAAC,KAAD,CAAOyF,KAAK,YAAYrE,UAAWsB,KACnC,kBAAC,KAAD,CAAO+C,KAAK,SAASrE,UAAWT,U,GAjCvBvI,IAAMC,WA2CnBsN,GAAeC,aAAWtN,aAJR,SAAApC,GAAK,MAAK,CAChC6K,UAAW7K,EAAMyD,KAAKoH,aAGiC,CAAEwE,QvB5DpC,SAAA5L,GACnB,MAAO,CACH/F,KCJgB,WDKhBC,QAAS,CACL+C,YAAa+C,KuBwD2C6L,UvBnD3C,WACrB,MAAO,CACH5R,KCZkB,esB6DqDH,cAA/C6E,CAA6D6M,KAEvFU,GAAiB,WACrBC,IAASC,OACP,kBAAC,IAAD,CAAUf,MAAOA,IACf,kBAAC,KAAD,KACE,kBAACW,GAAD,QAGJjH,SAASsH,eAAe,UAGxBjL,OAAOkL,QACTvH,SAASwH,iBAAiB,eAAe,WACvCL,QACC,GAGHA,KHmDI,kBAAmBM,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAArM,GACLtF,QAAQsF,MAAMA,EAAM1G,a,iBIzI5BT,EAAOC,QAAU,CACbqB,YAAa,+BACbhB,YAAa,gC","file":"static/js/main.cbbd4314.chunk.js","sourcesContent":["const jwt = require('jsonwebtoken')\nconst STATIC = require('../statics/constants')\n\nmodule.exports = () => {\n    const token = localStorage.getItem('userToken')\n    if(token !== null) {\n        return jwt.verify(token, STATIC.tokenSecret).id\n    }\n    else {\n        return false\n    }\n}","import * as actionTypes from './types'\n\nexport const setUser = user => {\n    return {\n        type: actionTypes.SET_USER,\n        payload: {\n            currentUser: user\n        }\n    }\n}\n\nexport const clearUser = () => {\n    return {\n        type: actionTypes.CLEAR_USER\n    }\n}\n\nexport const addMessage = (message, isTyping) => {\n    return {\n        type: actionTypes.ADD_MESSAGE,\n        payload: {\n            chatBubbleId: message.chatBubbleId,\n            message: message.content,\n            context: message.context,\n            isTyping: isTyping\n        }\n    }\n}","export const SET_USER = 'SET_USER'\nexport const CLEAR_USER = 'CLEAR_USER'\n\nexport const ADD_MESSAGE = 'ADD_MESSAGE'","import { EventEmitter } from 'fbemitter'\nconst STATIC = require('../statics/constants')\n\nclass MessageStore {\n    constructor() {\n        this.message = []\n        this.emitter = new EventEmitter()\n    }\n\n    async addMessage(userId, message) {\n        \n        try {\n            await fetch(`${STATIC.ngrokServer}/chat/message/user/${userId}`, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'auth-token': localStorage.getItem('userToken')\n                },\n                body: JSON.stringify(message),\n            })\n            this.emitter.emit('ADD_MESSAGE_SUCCESS')\n        } catch(err) {\n            console.warn(err)\n            this.emitter.emit('ADD_MESSAGE_ERROR')\n        }\n    }\n\n    async getMessage() {\n        try{\n            let response = await fetch(`${STATIC.ngrokServer}/chat/messages`)\n            let data = await response.json()\n            this.message = data\n        } catch(err) {\n            console.warn(err)\n        }\n    }\n}\n\nexport default MessageStore","import { EventEmitter } from 'fbemitter'\nconst STATIC = require('../statics/constants')\n\nclass ResponseStore {\n    constructor() {\n        this.emitter = new EventEmitter()\n        this.reply = []\n    }\n\n    async getResponse(question) {\n        let response = await fetch(`${STATIC.ngrokServer}/chat/response`, {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n                'auth-token': localStorage.getItem('userToken')\n            },\n            body: JSON.stringify(question)\n        })\n        let data = await response.json()\n        if (Object.keys(data).length === 25) {\n            this.reply = data\n        }\n        else {\n            if (Object.values(data.solution)[0].length > 1) {\n                let index = Math.floor(Math.random() * data.solution.length)\n                this.reply = data.solution[index]\n            }\n            else {\n                this.reply = data.solution\n            }\n        }\n        this.emitter.emit('GET_RESPONSE_SUCCESS')\n    } catch(err) {\n        console.warn(err)\n        this.emitter.emit('GET_RESPONSE_ERROR')\n    }\n}\n\nexport default ResponseStore","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles'\nimport { TextField, Button, Grid } from '@material-ui/core'\nimport SendIcon from '@material-ui/icons/Send';\nimport './MessageForm.css'\nimport { connect } from 'react-redux'\nimport { addMessage } from './../../../actions/actions'\nimport MessageStore from './../../../dbStores/MessageStore'\nimport ResponseStore from './../../../dbStores/ResponseStore'\n\nconst useStyles = theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  grid: {\n    padding: '10px',\n    display: 'flex',\n    bottom: 0\n  },\n  button: {\n    minWidth: 10\n  },\n  buttonGrid: {\n    width: '20px',\n    marginLeft: '10px'\n  }\n})\n\nclass MessageForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      question: '',\n      response: []\n    }\n\n    this.messageStore = new MessageStore()\n    this.responseStore = new ResponseStore()\n\n    this.handleChange = (evt) => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      })\n    }\n\n    this.sendMessage = () => {\n      if (this.state.question !== \"\") {\n        let message = {\n          chatBubbleId: 0,\n          content: this.state.question,\n          context: 'test'\n        }\n\n        this.setState({\n          question: ''\n        })\n\n        this.props.addMessage(message, true)\n\n        this.messageStore.addMessage(this.props.currentUser.id, message);\n\n        this.responseStore.getResponse(message)\n\n        this.responseStore.emitter.addListener('GET_RESPONSE_SUCCESS', () => {\n          let response = {\n            chatBubbleId: 1,\n            content: this.responseStore.reply,\n            context: message.context\n          }\n          this.props.addMessage(response, false)\n          this.responseStore.emitter.removeCurrentListener()\n        })\n      }\n      else {}\n    }\n  }\n\n  render() {\n    const { classes } = this.props\n    return (\n      <div className=\"Form\">\n        <Grid container className={classes.grid} style={{ minHeight: '100%' }}>\n          <Grid item xs={9}>\n            <TextField\n              name=\"question\"\n              id=\"outlined-basic-email\"\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder=\"Adaugă un mesaj\"\n              value={this.state.question}\n              onChange={this.handleChange}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs={1} align=\"right\" >\n            <Button\n              className={classes.buttonGrid}\n              color=\"primary\"\n              size=\"large\"\n              variant=\"outlined\"\n              onClick={this.sendMessage} >\n              <SendIcon />\n            </Button>\n          </Grid>\n        </Grid>\n      </div>\n    )\n  }\n}\n\nexport default connect(null, { addMessage })(withStyles(useStyles)(MessageForm))","import React from 'react'\nimport './Typing.css'\n\nconst Typing = () => (\n    <div className=\"typing\">\n        <div className=\"typing_dot\"></div>\n        <div className=\"typing_dot\"></div>\n        <div className=\"typing_dot\"></div>\n    </div>\n)\n\nexport default Typing","import React from \"react\"\nimport { ChatFeed } from 'react-chat-ui'\nimport './Message.css'\nimport Typing from '../Typing/Typing'\n\nconst Messages = (props) => {\n  const { messages, isTyping } = props\n  return (\n    <div className=\"Messages\">\n      <ChatFeed\n        messages={ messages }\n        bubbleStyles={\n          {\n            text: {\n              fontSize: 17\n            },\n            chatbubble: {\n              borderRadius: 20,\n              padding: 10\n            }\n          }\n        }\n      />\n      {isTyping ? <Typing /> : ''}\n    </div>\n  )\n}\n\nexport default Messages\n","import React from 'react'\nimport './Chat.css'\nimport MessageForm from '../MessageForm/MessageForm'\nimport Message from '../Message/Message'\nimport { Grid } from '@material-ui/core'\nimport { connect } from 'react-redux'\n\nconst Chat = (props) => {\n    const { currentUser, isTyping, messages } = props\n    return (\n        <div className=\"ChatDiv\">\n            <Grid className=\"MessageGrid\">\n                <Message\n                    className=\"message\"\n                    isTyping={isTyping}\n                    messages={messages}\n                />\n            </Grid>\n            <MessageForm\n                currentUser={currentUser}\n            />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    messages: state.message.messages,\n    isTyping: state.message.isTyping,\n    currentUser: state.user.currentUser\n})\n\nexport default connect(mapStateToProps)(Chat)","import React from 'react'\n\n\nclass Account extends React.Component {\n    // eslint-disable-next-line\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <div>\n                Account\n            </div>\n        )\n    }\n}\n\nexport default Account;\n","import React from 'react';\n\nclass SettingsItem extends React.Component {\n    // eslint-disable-next-line\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <div>\n                Settings\n            </div>\n        )\n    }\n}\n\nexport default SettingsItem\n","import { EventEmitter } from 'fbemitter'\nconst STATIC = require('../statics/constants')\n\nclass ConceptStore {\n    constructor() {\n        this.categories = []\n        this.subcategories = []\n        this.emitter = new EventEmitter()\n        this.abortController = new AbortController()\n    }\n\n    async addCategory(category) {\n        try {\n            await fetch(`${STATIC.ngrokServer}/concepts/category`, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(category)\n            })\n            this.emitter.emit('ADD_CATEGORY_SUCCESSFUL')\n        } catch(err) {\n            console.error(err)\n            this.emitter.emit('ADD_CATEGORY_ERROR')\n        }\n    }\n\n    async getAllCategories() {\n        try {\n            let response = await fetch(`${STATIC.ngrokServer}/concepts/categories`, { signal: this.abortController.signal })\n            let data = await response.json()\n            this.categories = data\n            this.emitter.emit('GET_ALL_CATEGORIES_SUCCESS')\n        } catch(err) {\n            console.warn(err)\n            this.emitter.emit('GET_ALL_REVIEWS_ERROR')\n        }\n    }\n\n    async addSubcategory(subcategory, categoryId) {\n        try {\n            await fetch(`${STATIC.ngrokServer}/concepts/category/${categoryId}/subcategory`, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(subcategory)\n            })\n        } catch(err) {\n            console.warn(err)\n            this.emitter.emit('ADD_SUBCATEGORY_ERROR')\n        }\n    }\n\n    async getAllSubcategories() {\n        try {\n            let response = await fetch(`${STATIC.ngrokServer}/concepts/subcategories`, { signal: this.abortController.signal })\n            let data = await response.json()\n            this.subcategories = data\n            this.emitter.emit('GET_ALL_SUBCATEGORIES_SUCCESS')\n        } catch(err) {\n            console.warn(err)\n            this.emitter.emit('GET_ALL_SUBCATEGORIES_ERROR')\n        }\n    }\n\n    async addExample(example, categoryId, subcategoryId) {\n        try {\n            await fetch(`${STATIC.ngrokServer}/concepts/category/${categoryId}/subcategory/${subcategoryId}/example`, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(example)\n            })\n        } catch(err) {\n            console.warn(err)\n            this.emitter.emit('ADD_EXAMPLE_ERROR')\n        }\n    }\n}\n\nexport default ConceptStore","import React from 'react'\nimport './CategoryForm.css'\nimport ConceptStore from '../../../dbStores/ConceptStore'\n\nclass CategoryForm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            category: '',\n            categories: [],\n            selectedCategory: []\n        }\n\n        this.conceptStore = new ConceptStore()\n\n        this.handleChange = (evt) => {\n            this.setState({\n                [evt.target.name]: evt.target.value\n            })\n        }\n\n        this.add = () => {\n            this.conceptStore.addCategory({\n                category: this.state.category,\n            })\n\n            this.conceptStore.emitter.addListener('ADD_CATEGORY_SUCCESSFUL', () => {\n                window.location.reload(false)\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"addCategoryHeader\">Add a category</div>\n                <div className=\"categoryForm\">\n                    <label className=\"categoryLabel\">Category</label>\n                    <input\n                        type=\"text\"\n                        name=\"category\"\n                        placeholder=\"category\"\n                        onChange={this.handleChange}\n                    />\n                    <button className=\"addCategoryButton\" onClick={this.add}>Add</button>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default CategoryForm","import React from 'react'\nimport './SubcategoryForm.css'\nimport ConceptStore from './../../../dbStores/ConceptStore'\n\nclass SubcategoryForm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            categories: [],\n            selectedCategoryId: '',\n            subcategory: ''\n        }\n\n        this.conceptStore = new ConceptStore()\n\n        this.handleCategorySelectChange = (evt) => {\n            this.setState({ selectedCategoryId: evt.target.value })\n        }\n\n        this.handleSubcategoryInputChange = (evt) => {\n            this.setState({ [evt.target.name]: evt.target.value })\n        }\n\n        this.add = () => {\n            let newSubcategory = {\n                subcategory: this.state.subcategory\n            }\n\n            this.conceptStore.addSubcategory(newSubcategory, this.state.selectedCategoryId)\n            window.location.reload(true)\n        }\n    }\n\n    componentDidMount() {\n        this.conceptStore.getAllCategories()\n        this.conceptStore.emitter.addListener('GET_ALL_CATEGORIES_SUCCESS', () => {\n            this.setState({\n                categories: this.conceptStore.categories\n            })\n        })\n    }\n\n    componentWillUnmount() {\n        this.conceptStore.abortController.abort()\n    }\n\n    render() {\n        const { categories } = this.state;\n\n        let categoriesList = categories.length > 0\n            && categories.map((item, i) => {\n                return (\n                    <option key={i} value={item.id}>{item.category}</option>\n                )\n            }, this);\n\n        return (\n            <div>\n                <div className=\"addSubcategoryHeader\">Add a subcategory</div>\n                <div className=\"subcategoryForm\">\n                    <label>Select a category</label>\n                    <select className=\"selectCategory\" onChange={this.handleCategorySelectChange} >\n                        <option value=\"value\">Select a category</option>\n                        {categoriesList}\n                    </select>\n                </div>\n\n                <div className=\"subcategoryForm\">\n                    <label className=\"subcategoryLabel\">Subcategory</label>\n                    <input type=\"text\" name=\"subcategory\" placeholder=\"subcategory\" onChange={this.handleSubcategoryInputChange} />\n                    <button className=\"addSubcategoryButton\" onClick={this.add}>Add</button>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default SubcategoryForm","import React from 'react'\nimport './ExampleForm.css'\nimport ConceptStore from '../../../dbStores/ConceptStore'\nimport { EventEmitter } from 'fbemitter'\n\nclass ExampleForm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            categories: [],\n            selectedCategoryId: '',\n            subcategories: [],\n            selectedSubcategoryId: '',\n            example: ''\n        }\n\n        this.emitter = new EventEmitter()\n\n        this.conceptStore = new ConceptStore()\n\n        this.handleCategorySelectChange = (evt) => {\n            this.setState({selectedCategoryId: evt.target.value})\n        }\n\n        this.handleSubcategorySelectChange = (evt) => {\n            this.setState({selectedSubcategoryId: evt.target.value})\n        }\n\n        this.handleInputChange = (evt) => {\n            this.setState({[evt.target.name]: evt.target.value})\n        }\n\n        this.add = () => {\n            let newExample = {\n                example: this.state.example\n            }\n            console.log(newExample)\n\n            this.conceptStore.addExample(newExample, this.state.selectedCategoryId, this.state.selectedSubcategoryId)\n            window.location.reload(true)\n        }\n    }\n\n    componentDidMount() {\n        this.conceptStore.getAllCategories()\n        this.conceptStore.getAllSubcategories()\n        \n        this.conceptStore.emitter.addListener('GET_ALL_CATEGORIES_SUCCESS', () => {\n            this.setState({\n                categories: this.conceptStore.categories\n            })\n        })\n\n        this.emitter.emit('EXAMPLE_FORM_SUCCESSFUL_LOAD')\n        this.conceptStore.emitter.addListener('GET_ALL_SUBCATEGORIES_SUCCESS', () => {\n            this.setState({\n                subcategories: this.conceptStore.subcategories\n            })\n        })\n      }    \n\n      componentWillUnmount() {\n          this.conceptStore.abortController.abort()\n      }\n\n    render() {\n        const { categories, subcategories } = this.state;\n\n        let categoriesList = categories.length > 0\n            && categories.map((item, i) => {    \n            return (\n                <option key={i} value={item.id}>{item.category}</option>\n            )\n        }, this);\n        \n\n        let subcategoriesList = subcategories.length > 0\n            && subcategories.map((item, i) => {\n            return (\n                <option key={i} value={item.id}>{item.subcategory}</option>\n            )\n        }, this);\n\n        return (\n            <div>\n                <div className=\"addExamplesHeader\">Add examples</div>\n                <div className=\"subcategoryForm\">\n                    <label>Select a category</label>\n                    <select className=\"selectSubcategory\" onChange={ this.handleCategorySelectChange }>\n                    <option value=\"defaultValue\">Select a category</option>\n                        { categoriesList } \n                    </select>\n                </div>\n                \n                <div className=\"subcategoryForm\">\n                    <label>Select a subcategory</label>\n                    <select className=\"selectSubcategory\" onChange={ this.handleSubcategorySelectChange }> \n                        <option value=\"defaultValue\">Select a subcategory</option>\n                        { subcategoriesList }\n                    </select>\n                </div>\n                \n                <div className=\"exampleForm\">\n                    <label className=\"exampleLabel\">Example</label>\n                    <input type=\"text\" name=\"example\" placeholder=\"example\" onChange={ this.handleInputChange }/>\n                    <button className=\"addExampleButton\" onClick={ this.add }>Add</button>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default ExampleForm","import React from 'react'\nimport './ConceptsForm.css'\nimport CategoryForm from '../CategoryForm/CategoryForm'\nimport SubcategoryForm from '../SubcategoryForm/SubcategoryForm'\nimport ExampleForm from '../ExampleForm/ExampleForm'\n\nclass ConceptsForm extends React.Component {\n    \n    render() {\n        return (\n            <div className=\"ConceptsForm\">\n                <CategoryForm />\n                <SubcategoryForm />\n                <ExampleForm />\n            </div>\n        )\n    }\n}\n\n\n\nexport default ConceptsForm","import React from 'react'\nimport {\n  AppBar,\n  CssBaseline,\n  Divider,\n  Drawer,\n  Hidden,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Toolbar,\n  Typography\n} from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Chat from '../Chat/Chat/Chat'\nimport Account from './../Account/Account'\nimport SettingsItem from '../Settings/SettingsItem'\nimport ConceptsForm from '../AI/ConceptsForm/ConceptsForm'\nimport { connect } from 'react-redux'\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n      ...theme.mixins.toolbar,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n  },\n}));\n\nfunction Home(props) {\n  const { window } = props\n  const { currentUser } = props\n  const classes = useStyles()\n  const theme = useTheme()\n  const [mobileOpen, setMobileOpen] = React.useState(false)\n  const [chatItem, setChatItem] = React.useState(true)\n  const [accountItem, setAccountItem] = React.useState(false)\n  const [settingsItem, setSettingsItem] = React.useState(false)\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen)\n  }\n\n  const chatItemClicked = () => {\n    setChatItem(false)\n    setSettingsItem(false)\n    setChatItem(true)\n    if ({ mobileOpen }.mobileOpen) {\n      setMobileOpen(!mobileOpen)\n    }\n  }\n\n  const accountItemClicked = () => {\n    setChatItem(false)\n    setSettingsItem(false)\n    setAccountItem(true)\n    if ({ mobileOpen }.mobileOpen) {\n      setMobileOpen(!mobileOpen)\n    }\n  }\n\n  const settingsItemClicked = () => {\n    setAccountItem(false)\n    setChatItem(false)\n    setSettingsItem(true)\n    if ({ mobileOpen }.mobileOpen) {\n      setMobileOpen(!mobileOpen)\n    }\n  }\n\n  const aiItemClicked = () => {\n    setAccountItem(false)\n    setChatItem(false)\n    setSettingsItem(false)\n    if ({ mobileOpen }.mobileOpen) {\n      setMobileOpen(!mobileOpen)\n    }\n  }\n\n\n  const drawer = (\n    <div className=\"HomeDiv\">\n      <div />\n      <Divider />\n      \n      <List>\n      \n        <ListItem key=\"currentUserFullName\">\n          <ListItemIcon><img alt=\"drawerChatIcon\" src={currentUser.photoURL} style={{ width: '34px' }} /></ListItemIcon>\n          <ListItemText primary={currentUser.name}/>\n        </ListItem>\n        <Divider />\n        <ListItem button key='Chat' onClick={chatItemClicked}>\n          <ListItemIcon><img alt=\"drawerChatIcon\" src=\"https://img.icons8.com/bubbles/50/000000/chat.png\" style={{ width: '40px' }} /></ListItemIcon>\n          <ListItemText primary=\"Chat\" />\n        </ListItem>\n        <ListItem button key='Account' onClick={accountItemClicked}>\n          <ListItemIcon><img alt=\"drawerAccountIcon\" src=\"https://img.icons8.com/bubbles/50/000000/test-account.png\" style={{ width: '40px' }} /></ListItemIcon>\n          <ListItemText primary=\"Contul Meu\" />\n        </ListItem>\n        <ListItem button key='Settings' onClick={settingsItemClicked}>\n          <ListItemIcon><img alt=\"drawerSettingsIcon\" src=\"https://img.icons8.com/bubbles/50/000000/gears.png\" style={{ width: '40px' }} /></ListItemIcon>\n          <ListItemText primary=\"Setări\" />\n        </ListItem>\n      </List>\n      <Divider />\n      <ListItem button key='AI' onClick={aiItemClicked}>\n        <ListItemIcon><img alt=\"drawerSettingsIcon\" src=\"https://img.icons8.com/bubbles/50/000000/learning.png\" style={{ width: '40px' }} /></ListItemIcon>\n        <ListItemText primary=\"AI\" />\n      </ListItem>\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            Elf Chat\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true,\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {\n          { chatItem }.chatItem ? <Chat /> :\n            { accountItem }.accountItem ? <Account /> :\n              { settingsItem }.settingsItem ? <SettingsItem /> :\n                <ConceptsForm />\n\n        }\n      </main>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser\n})\n\nexport default connect(mapStateToProps)(Home)\n","import React from 'react'\nimport './App.css'\nimport Home from '../Home/Home'\n\nconst App = () => (\n      <Home />\n)\n\nexport default App\n","import { EventEmitter } from 'fbemitter'\nconst STATIC = require('../statics/constants')\n\nclass UserStore {\n    constructor() {\n        this.users = []\n        this.loggedUser = ''\n        this.emitter = new EventEmitter()\n        this.responseStatus = ''\n        this.error = ''\n        this.token = ''\n    }\n    \n    async addUser(user) {\n        try {   \n            let response = await fetch(`${STATIC.ngrokServer}/chat/user`, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(user)\n            })\n            let result = await response.json()\n            if(result.hasOwnProperty('errors')) {\n                this.error = result.errors[0].message\n                this.emitter.emit('USER_ADD_ERROR')\n            }\n            else {\n                this.emitter.emit('USER_ADD_SUCCESSFUL')\n                console.log('registration successful!')\n            }\n        } catch(err) {\n            this.error = await err.json()\n            this.emitter.emit('USER_ADD_ERROR')\n        }\n    }\n\n    async login(user) {\n        try {\n            let response = await fetch(`${STATIC.ngrokServer}/chat/login`, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(user)\n            })\n            if(response.status !== 500) {\n                let result = await response.json()\n                if(!result.hasOwnProperty('error')) {\n                    localStorage.setItem('userToken', result.tokenValue)\n                    this.token = result.tokenValue\n                    console.log('login successful!')\n                    this.emitter.emit('LOGIN_SUCCESSFUL')\n                }\n                else {\n                    this.error = result.error\n                    this.emitter.emit('LOGIN_ERROR')\n                }\n            }\n            else {\n                this.emitter.emit('LOGIN_ERROR')\n            }\n            \n        } catch(err) {\n            console.log(err)\n            this.emitter.emit('LOGIN_ERROR')\n        }\n    }\n\n    async getLoggedUser(userId) {\n        try {\n            let response = await fetch(`${STATIC.ngrokServer}/chat/user/${userId}`)\n            let user = await response.json()\n            this.loggedUser = user\n            this.emitter.emit(`GET_LOGGED_USER_SUCCESS`)\n        } catch(err) {\n            console.warn(err)\n            this.emitter.emit('GET_LOGGED_USER_ERROR')\n        }\n    }\n}\n\nexport default UserStore","import React, { Component } from 'react'\nimport UserStore from '../../dbStores/UserStore'\nimport {\n    Grid,\n    Container,\n    TextField,\n    Avatar,\n    Button,\n    CssBaseline,\n    Link,\n    Typography,\n    CircularProgress\n} from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles'\nimport { blue } from '@material-ui/core/colors'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\n\n\nconst useStyles = theme => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    circularProgress: {\n        color: blue[500],\n        position: 'absolute',\n        top: '36%',\n        marginTop: -12,\n    }\n})\n\nclass Login extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n            isValid: true,\n            isLoading: false,\n            error: '',\n            loginToken: ''\n        }\n\n        this.handleChange = (evt) => {\n            this.setState({\n                [evt.target.name]: evt.target.value\n            })\n        }\n\n        this.add = () => {\n            this.setState({\n                isLoading: true\n            })\n            let user = {\n                email: this.state.email,\n                password: this.state.password\n            }\n            this.userStore = new UserStore()\n            \n            this.userStore.login(user)\n            this.userStore.emitter.addListener('LOGIN_SUCCESSFUL', () => {\n                this.setState({\n                     isLoading: false,\n                     loginToken: this.userStore.token\n                })\n                window.location.reload(false)\n            })\n    \n            this.userStore.emitter.addListener('LOGIN_ERROR', () => {\n                this.setState({\n                    isValid: false,\n                    error: this.userStore.error,\n                    isLoading: false\n                })\n            })\n        }\n\n    }\n\n    render() {\n        const { classes } = this.props\n        const { isLoading, isValid, error } = this.state\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline />\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <LockOutlinedIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Autentificare\n              </Typography>\n                    <form className={classes.form} noValidate>\n                        <Grid container spacing={2}>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    id=\"email\"\n                                    size=\"small\"\n                                    label=\"Email\"\n                                    name=\"email\"\n                                    type=\"email\"\n                                    onChange={this.handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    name=\"password\"\n                                    label=\"Parolă\"\n                                    size=\"small\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                    onChange={this.handleChange}\n                                />\n                            </Grid>\n                            { isValid ? <div></div> : \n                                <div style = {{marginLeft: '10px', color: 'red'}}>\n                                    { error }\n                                </div>\n                            }\n                        </Grid>\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={isLoading}\n                            className={classes.submit}\n                            onClick={this.add}\n                        >\n                            Autentificare\n                            {isLoading && <CircularProgress size={34} className={classes.circularProgress}/>}\n                </Button>\n                <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Ai uitat parola?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"#/register\" variant=\"body2\">\n                {\"Nu ai cont? Înregistrează-te\"}\n              </Link>\n            </Grid>\n          </Grid>\n                    </form>\n                </div>\n            </Container>\n        )\n    }\n}\n\nexport default withStyles(useStyles)(Login)","import React, { Component } from 'react'\nimport UserStore from '../../dbStores/UserStore'\nimport {\n    Grid,\n    Container,\n    TextField,\n    Avatar,\n    Button,\n    CssBaseline,\n    Link,\n    Typography,\n    CircularProgress\n} from '@material-ui/core'\nimport { blue } from '@material-ui/core/colors'\nimport { withStyles } from '@material-ui/core/styles'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport md5 from 'md5'\n\n\nconst useStyles = theme => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(3)\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2)\n    },\n    circularProgress: {\n        color: blue[500],\n        position: 'absolute',\n        top: '36%',\n        marginTop: -12,\n    }\n})\n\nclass Register extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            fullName: '',\n            username: '',\n            password: '',\n            confirmPassword: '',\n            email: '',\n            error: '',\n            isValid: true,\n            isLoading: false\n        }\n\n        this.userStore = new UserStore()\n\n        this.handleChange = (evt) => {\n            this.setState({\n                [evt.target.name]: evt.target.value\n            })\n        }\n\n        this.isPasswordValid = ({password, confirmPassword}) => {\n            if(password.length < 6) {\n                this.setState({\n                    error: 'Parola trebuie să aibă minim 6 caractere!'\n                })\n                return false\n            }\n            else if(password !== confirmPassword) {\n                this.setState({\n                    error: 'Parolele trebuie să fie identice!'\n                })\n                return false\n            }\n            else {\n                return true\n            }\n        }\n\n        this.add = () => {\n            this.setState({\n                isLoading: true\n            })\n            let user = {\n                name: this.state.fullName,\n                username: this.state.username,\n                password: this.state.password,\n                email: this.state.email,\n                photoURL: `http://gravatar.com/avatar/${md5(this.state.email)}?d=identicon`\n            }\n            console.log(user)\n\n            if(this.isPasswordValid(this.state)) {\n                this.userStore.addUser(user)\n                this.userStore.emitter.addListener('USER_ADD_SUCCESSFUL', () => {\n                    this.setState({\n                        isLoading: false\n                    })\n                    this.props.history.push('/login')\n                })\n    \n                this.userStore.emitter.addListener('USER_ADD_ERROR', () => {\n                    this.setState({\n                        isValid: false,\n                        error: this.userStore.error,\n                        isLoading: false\n                    })\n                })\n            }\n            else {\n                this.setState({\n                    isValid: false,\n                    isLoading: false\n                })\n            }\n        }\n\n    }\n\n    render() {\n        const { classes } = this.props\n        const { isValid, error, isLoading } = this.state\n        return (\n            <Container component=\"main\" maxWidth=\"xs\" >\n                <CssBaseline />\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <LockOutlinedIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Înregistrare\n              </Typography>\n                    <form className={classes.form} noValidate>\n                        <Grid container spacing={2}>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    name=\"fullName\"\n                                    variant=\"outlined\"\n                                    size=\"small\"\n                                    fullWidth\n                                    id=\"fullName\"\n                                    label=\"Nume Complet\"\n                                    onChange={this.handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    id=\"username\"\n                                    label=\"Nume Utilizator\"\n                                    onChange={this.handleChange}\n                                    name=\"username\"\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    id=\"email\"\n                                    label=\"Email\"\n                                    onChange={this.handleChange}\n                                    name=\"email\"\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"password\"\n                                    label=\"Parolă\"\n                                    type=\"password\"\n                                    onChange={this.handleChange}\n                                    id=\"password\"\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    fullWidth\n                                    size=\"small\"\n                                    name=\"confirmPassword\"\n                                    label=\"Confirmă Parola\"\n                                    type=\"password\"\n                                    onChange={this.handleChange}\n                                    id=\"confirmPassword\"\n                                />\n                            </Grid>\n                            { isValid ? <div></div> : \n                                <div style = {{marginLeft: '10px', color: 'red'}}>\n                                    { error }\n                                </div>\n                            }\n                        </Grid>   \n                        \n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                disabled={isLoading}\n                                className={classes.submit}\n                                onClick={this.add}\n                            >\n                                Înregistrare\n                                {isLoading && <CircularProgress size={34} className={classes.circularProgress}/>} \n                       \n                            </Button>\n                        <Grid container justify=\"flex-end\">\n                            <Grid item>\n                                <Link href=\"#/login\" variant=\"body2\">\n                                    Ai deja cont? Autentifică-te!\n                                </Link>\n                            </Grid>\n                        </Grid>\n                    </form>\n                </div>\n            </Container>\n        )\n    }\n}\n\nexport default withStyles(useStyles)(Register)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers} from 'redux'\nimport * as ActionTypes from '../actions/types'\nimport { Message } from 'react-chat-ui'\n\nconst initialUserState = {\n    currentUser: null,\n    isLoading: true\n}\n\nconst initialMessageState = {\n    messages: [],\n    context: null,\n    isTyping: false\n}\n\nconst userReducer = (state = initialUserState, action) => {\n    switch(action.type) {\n        case ActionTypes.SET_USER:\n            return {\n                currentUser: action.payload.currentUser,\n                isLoading: false\n            }\n\n        case ActionTypes.CLEAR_USER:\n            return {\n                ...state,\n                isLoading: false\n            }\n        default:\n            return state\n    }\n}\n\nconst messageReducer = (state = initialMessageState, action) => {\n    switch(action.type) {\n        case ActionTypes.ADD_MESSAGE:\n            return {\n                ...state,\n                messages: state.messages.concat(new Message({ id: action.payload.chatBubbleId, message: action.payload.message })),\n                context: action.payload.context,\n                isTyping: action.payload.isTyping\n            }\n        default:\n            return state\n    }\n}\n\nconst rootReducer = combineReducers({\n    user: userReducer,\n    message: messageReducer\n})\n\nexport default rootReducer","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        '& > * + *': {\n            marginTop: theme.spacing(1),\n        },\n        marginTop: '95%',\n        marginLeft: '10%',\n        marginBlockEnd: '20%'\n    },\n}))\n\nexport default function LinearBuffer() {\n    const classes = useStyles()\n    const [completed, setCompleted] = React.useState(0)\n    const [buffer, setBuffer] = React.useState(10)\n\n    const progress = React.useRef(() => { })\n    React.useEffect(() => {\n        progress.current = () => {\n            if (completed > 100) {\n                setCompleted(0)\n                setBuffer(10)\n            } else {\n                const diff = Math.random() * 10\n                const diff2 = Math.random() * 10\n                setCompleted(completed + diff)\n                setBuffer(completed + diff + diff2)\n            }\n        }\n    })\n\n    React.useEffect(() => {\n        function tick() {\n            progress.current()\n        }\n        const timer = setInterval(tick, 500)\n\n        return () => {\n            clearInterval(timer)\n        };\n    }, [])\n\n    return (\n        <div className={classes.root}>\n            <LinearProgress variant=\"buffer\" value={completed} valueBuffer={buffer} />\n            <LinearProgress variant=\"buffer\" value={completed} valueBuffer={buffer} color=\"secondary\" />\n        </div>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App/App';\nimport Login from './components/Auth/Login'\nimport Register from './components/Auth/Register'\nimport * as serviceWorker from './serviceWorker';\nimport checkForUserToken from './utils/checkLocalStorage'\nimport UserStore from './dbStores/UserStore'\nimport { HashRouter as Router, Switch, Route, withRouter } from 'react-router-dom'\nimport { createStore } from 'redux'\nimport { Provider, connect } from 'react-redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './reducers/reducer'\nimport { setUser, clearUser, addMessage } from './actions/actions'\nimport LinearProgress from './components/LinearProgress/LinearProgress'\n\nconst store = createStore(rootReducer, composeWithDevTools())\n\nclass Root extends React.Component {\n  componentDidMount() {\n    const userStore = new UserStore()\n    const userId = checkForUserToken()\n    if (userId) {\n      userStore.getLoggedUser(userId)\n      userStore.emitter.addListener('GET_LOGGED_USER_SUCCESS', () => {\n        console.log(userStore.loggedUser.username)\n        let firstMessage = {\n          chatBubbleId: 1,\n          content: 'Salut ' + userStore.loggedUser.username + ' ! Eu sunt Tia, cu ce te pot ajuta?',\n          context: 'greet'\n        }\n        this.props.addMessage(firstMessage, false)\n        this.props.setUser(userStore.loggedUser)\n        this.props.history.push('/')\n      })\n    }\n    else {\n      this.props.history.push('/login')\n      this.props.clearUser()\n    }\n  }\n\n\n  render() {\n    return this.props.isLoading ? \n      <LinearProgress />\n      :\n      (\n        <Switch>\n          <Route path=\"/\" exact component={App} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/login\" component={Login} />\n        </Switch>\n      )\n  }\n}\n\nconst mapStateToProps = state => ({\n  isLoading: state.user.isLoading\n})\n\nconst RootWithAuth = withRouter(connect(mapStateToProps, { setUser, clearUser, addMessage })(Root))\n\nconst renderReactDom = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <Router>\n        <RootWithAuth />\n      </Router>\n    </Provider>,\n    document.getElementById('root'))\n}\n\nif (window.cordova) {\n  document.addEventListener('deviceready', () => {\n    renderReactDom()\n  }, false)\n}\nelse {\n  renderReactDom()\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = {\n    ngrokServer: 'http://ba305cb9e9b4.ngrok.io',\n    tokenSecret: '*$9&1&bPsOGeu6Eu$a&&3bGeMd'\n}"],"sourceRoot":""}